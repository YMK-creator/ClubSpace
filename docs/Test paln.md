---

# План тестирования

## Содержание

* [1. Введение](#введение)
* [2. Объект тестирования](#объект-тестирования)
* [3. Атрибуты качества](#атрибуты-качества)
* [4. Риски](#риски)
* [5. Аспекты тестирования](#аспекты-тестирования)
* [6. Подходы к тестированию](#подходы-к-тестированию)
* [7. Представление результатов](#представление-результатов)
* [8. Выводы](#выводы)

---

## Введение

Документ описывает план тестирования веб-приложения **Club Space**.
Предназначен для QA-специалистов и разработчиков.
Цель — проверить выполнение функциональных требований (UC1–UC9), корректность работы публичного и приватного контента и безопасность доступа на основе JWT.

---

## Объект тестирования

Проверке подлежат ключевые модули системы:

* **Аутентификация**: регистрация, вход, выход, валидация токенов.
* **Публикации (Posts)**: создание постов, публикация приватных в публичный доступ.
* **Профиль**: управление видимостью постов в профиле.
* **Публичная лента**: просмотр постов гостями и пользователями.
* **Социальные функции**: лайки, комментарии.
* **Безопасность API**: разграничение прав доступа между Guest и Authenticated.

---

## Атрибуты качества

### Функциональность

* Реализация всех сценариев UC1–UC9.
* Корректное сохранение данных в связанных сущностях (`Post → PublicPost`).

### Безопасность

* Гости видят только публичные данные.
* Приватные посты недоступны другим пользователям до публикации.
* Валидация JWT для каждого защищённого запроса.

### Удобство использования

* Понятные сообщения об ошибках.
* Корректная навигация после входа и выхода.

### Производительность

* Быстрая загрузка публичной ленты (`GET /api/v1/public-posts`).
* Оперативное обновление счётчика лайков.

---

## Риски

Основные возможные проблемы:

* Несогласованность данных между `Post` и `PublicPost`.
* Доступ к приватным данным через прямые вызовы API.
* Ошибки обработки просроченных или недействительных JWT.
* Повторные лайки или двойное создание постов.
* Уязвимости валидации данных (инъекции, некорректные поля).

---

## Аспекты тестирования

### 1. Регистрация и Аутентификация (UC1, UC2, UC9)

#### Регистрация (UC1)

* Создание пользователя: **201 Created**.
* Проверка уникальности email/username: **409 Conflict**.
* Ошибки формата email, несовпадения паролей: **400 Bad Request**.

#### Вход (UC2)

* Вход с корректными данными — получение JWT.
* Ошибка при неверном пароле: **401 Unauthorized**.

#### Выход (UC9)

* Инвалидация токена / очистка cookies.
* Попытка доступа к защищённым ресурсам после логаута — отказ.

---

### 2. Управление постами (UC3, UC5)

#### Создание публичного поста (UC3)

* Создание поста сразу публичным.
* Проверка появления данных в `Post` и `PublicPost`.

#### Публикация существующего поста (UC5)

* Перевод приватного поста в публичный.
* Защита от публикации чужого поста: **403 Forbidden**.

---

### 3. Профиль и видимость (UC4)

* Добавление приватного поста в профиль.
* Запрет добавления чужих постов.
* Статусы: **200 OK**, **409 Conflict**.

---

### 4. Просмотр контента (UC6)

* Доступность публичной ленты для гостей.
* Корректная работа при пустом списке.
* Проверка структуры ответа.

---

### 5. Социальные действия (UC7, UC8)

#### Лайки (UC7)

* Успешная простановка лайка.
* Повторный лайк: **409 Conflict** (согласно UC).
* Лайк несуществующего поста: **404 Not Found**.

#### Комментарии (UC8)

* Добавление комментария.
* Ошибка при пустом комментарии.
* Проверка отображения комментария.

---

## Подходы к тестированию

### API тестирование

* Проверка всех эндпоинтов через Postman/Swagger.
* Контроль статус-кодов (200, 201, 400, 401, 403, 404, 409).
* Проверка структуры JSON-ответов, наличия и корректности JWT.

### UI тестирование

* Проверка форм регистрации и входа.
* Отображение постов в ленте и профиле.
* Проверка адаптивности интерфейса.

### Тестирование безопасности

* Выполнение действий без токена.
* Попытка изменить или опубликовать чужие посты.

---

## Представление результатов

В отчёте фиксируются:

* ID тест-кейса (пример: **UC1-TC01**).
* Выполняемое действие.
* Ожидаемый результат.
* Фактический результат.
* Статус (**Pass / Fail**).
* Критичность дефекта.

---

## Выводы

План тестирования охватывает все сценарии использования приложения **Club Space** и учитывает взаимодействие гостя и авторизованного пользователя.
Выполнение тестов подтверждает корректность жизненного цикла постов, защиту приватных данных и стабильную работу социальных функций.

---
